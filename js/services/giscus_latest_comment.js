utils.jq(()=>{$(function(){const t=document.getElementsByClassName("ds-giscus");for(var a=0;a<t.length;a++){const e=t[a],n=e.dataset.api;if(null==n)continue;const s=def.avatar;utils.request(e,n,async t=>{const a=await t.json(),n=e.getAttribute("limit");a.forEach((t,a)=>{if(!(n&&a>=n)){comment=t.body.length>50?t.body.substring(0,50)+"...":t.body;var r='<div class="timenode" index="'+a+'">';r+='<div class="header">',r+='<div class="user-info">',r+='<img src="'+(t.author.avatarUrl||s)+'" onerror="javascript:this.src=\''+s+"';\">",r+="<span>"+t.author.login+"</span>",r+="</div>",r+="<span>"+new Date(t.createdAt).toLocaleString()+"</span>",r+="</div>",r+='<a class="body" href="'+t.url+'" target="_blank" rel="external nofollow noopener noreferrer">',r+=comment,r+="</a>",r+="</div>",$(e).append(r)}})})}})});