utils.jq(()=>{$(function(){const s=document.getElementsByClassName("ds-friends_and_posts");for(var a=0;a<s.length;a++){const e=s[a],l=e.dataset.api;if(null==l)continue;const t=def.avatar;utils.request(e,l,async s=>{const a=await s.json();for(let s of a.content||a){var l='<div class="grid-cell user-post-card">';l+='<div class="avatar-box">',l+=`<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="${s.html_url||s.url}">`,l+=`<img src="${s.avatar_url||s.avatar||s.icon||t}" onerror="javascript:this.removeAttribute('data-src');this.src='${t}';"/>`,l+=`<span class="title">${s.title||s.login}</span>`,l+="</a>",l+='<div class="labels">';for(let a of s.labels)a.lightness>75?l+=`<div class="label" style="background:#${a.color};color:hsla(${a.hue}, ${a.saturation}%, 20%, 1);">${a.name}</div>`:a.saturation>90&&a.lightness>40?l+=`<div class="label" style="background:#${a.color};color:hsla(${a.hue}, 50%, 20%, 1);">${a.name}</div>`:l+=`<div class="label" style="background:#${a.color};color:white">${a.name}</div>`;if(l+="</div>",l+="</div>",l+='<div class="previews">',s.description?l+=`<div class="desc">${s.description||s.issue_number||""}</div>`:l+=`<div class="desc">#${s.issue_number}</div>`,l+='<div class="posts">',s.posts?.length>0)for(let a of s.posts)l+=`<a class="post-link" target="_blank" rel="external nofollow noopener noreferrer" href="${a.link}">`,l+=`<span class="title">${a.title}</span>`,l+=`<span class="date">${a.published}</span>`,l+="</a>";else l+=`<span class="no-post">${s.feed?.length>0?"RSS 解析失败":"未设置 RSS 链接"}</span>`;l+="</div>",l+="</div>",l+="</div>",$(e).find(".grid-box").append(l)}window.wrapLazyloadImages(e)})}})});