utils.jq(()=>{$(function(){const e=document.getElementsByClassName("ds-weibo");for(var s=0;s<e.length;s++){const t=e[s],a=t.dataset.api;if(null==a)continue;const n=t.getAttribute("avatar")||def.avatar;utils.request(t,a,async e=>{const s=await e.json(),a=s.tweets||[],r=t.getAttribute("limit");a.forEach((e,a)=>{if(!(r&&a>=r)){var o='<div class="timenode" index="'+a+'">';o+='<div class="header">',o+='<div class="user-info">',o+='<img src="'+(s.user.avatar_hd||n)+'" onerror="javascript:this.src=\''+n+"';\">",o+="<span>"+s.user.nick_name+"</span>",o+="</div>",o+="<span>"+e.created_at+"</span>",o+="</div>",o+='<div class="body">',o+='<a class="body" href="'+e.url+'" target="_blank" rel="external nofollow noopener noreferrer">',o+=e.content,o+="</a>",o+='<div class="footer">',o+='<div class="flex left">',o+="</div>",o+='<div class="flex right">',o+='<div class="item reaction repost">',o+='<a class="item comments last" href="'+e.url+'#issuecomment-new" target="_blank" rel="external nofollow noopener noreferrer">',o+="<span>🔗 "+e.reposts_count+"</span>",o+="</a>",o+="</div>",o+='<a class="item comments last" href="'+e.url+'#issuecomment-new" target="_blank" rel="external nofollow noopener noreferrer">',o+='<span><svg t="1666270368054" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2528" width="200" height="200"><path d="M952 64H72C32.3 64 0 96.3 0 136v508c0 39.7 32.3 72 72 72h261l128 128c14 14 32.5 21.1 50.9 21.1s36.9-7 50.9-21.1l128-128h261c39.7 0 72-32.3 72-72V136c0.2-39.7-32.1-72-71.8-72zM222 462c-39.8 0-72-32.2-72-72s32.2-72 72-72 72 32.2 72 72-32.2 72-72 72z m290-7.7c-39.8 0-72-32.2-72-72s32.2-72 72-72 72 32.2 72 72c0 39.7-32.2 72-72 72z m290 8c-39.8 0-72-32.2-72-72s32.2-72 72-72 72 32.2 72 72c0 39.7-32.2 72-72 72z" p-id="2529"></path></svg> '+(e.comments_count||0)+"</span>",o+="</a>",o+='<div class="item reaction attitudes">',o+='<a class="item comments last" href="'+e.url+'#issuecomment-new" target="_blank" rel="external nofollow noopener noreferrer">',o+="<span>👍 "+e.attitudes_count+"</span>",o+="</a>",o+="</div>",o+="</div>",o+="</div>",$(t).append(o)}})})}})});